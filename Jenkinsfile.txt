pipeline {



 agent any

 stages {

    stage('build in master') {

      steps {

        echo 'Hello World'

      }

    }

    stage('test in master') {

  when {

  branch comparator: 'EQUALS', pattern: 'test'

  }

      steps {

        echo 'Hello World'

      }

 }

    stage('deploy in master') {

      steps {

        echo 'Hello World'

      }

    }

 stage('build') {

 when {

  branch comparator: 'EQUALS', pattern: 'test'

  }

      steps {

        echo 'Hello World'

      }

    }

    stage('test') {

  when {

  branch comparator: 'EQUALS', pattern: 'test'

  }

      steps {

        echo 'Hello World'

      }

 }

    stage('deploy') {

 when {

  branch comparator: 'EQUALS', pattern: 'test'

  }

      steps {

        echo 'Hello World'

      }

    }

 }

 post {

 always {

  cleanWs()

 }

 }

}













